function t(t,e){let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const e=t=>"function"==typeof t,n=t=>"object"==typeof t;class r{constructor(t,e,n){this.message=e,this.target=t,this.value=n}}const o={true:1,"":1,1:1};function s(t,o,s,a,h){let{type:p,reflect:d,event:f,value:m,attr:y=l(o)}=n(s)&&null!=s?s:{type:s},g=!(p==Function||null==p);Object.defineProperty(t,o,{configurable:!0,set(t){let n=this[o],{error:s,value:l}=c(p,g&&e(t)?t(n):t);if(s&&null!=l)throw new r(this,`The value defined for prop '${o}' must be of type '${p.name}'`,l);n!=l&&(this.update({[o]:l}),f&&i(this,f),this.updated.then((()=>{d&&(this._ignoreAttr=y,u(this,p,y,this[o]),this._ignoreAttr=null)})))},get(){return this._props[o]}}),null!=m&&(h[o]=m),a[y]={prop:o,type:p}}const i=(t,{type:e,base:n=CustomEvent,...r})=>t.dispatchEvent(new n(e,r)),l=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase(),u=(t,e,r,o)=>null==o||e==Boolean&&!o?t.removeAttribute(r):t.setAttribute(r,n(o)?JSON.stringify(o):e==Boolean?"":o),c=(t,e)=>null==t?{value:e}:t!=String&&""===e?{value:null}:{}.toString.call(e)==`[object ${t.name}]`?{value:e,error:t==Number&&Number.isNaN(e)}:{value:e,error:!0};let a,h;function p(){return d(((t={current:a.host})=>t))}function d(t,e,n){return a.use(t,e,n)}function f(){return a.update}const m={id:1,className:1,checked:1,value:1,selected:1},y={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1},g={},v=[],b=document;class w extends Text{get nodeType(){return-1}}const S=Symbol(),E=Symbol();function C(t,e,...n){let r=e||g,{children:o}=r;o=null!=o?o:n.length?n:v;const s=!!t&&(t instanceof Node?1:t.prototype instanceof HTMLElement&&2);return{vdom:S,type:t,props:r,children:o,key:r.key,shadow:r.shadowDom,raw:s,is:r.is}}function x(t,e,n=E,r){let o;if(e&&e[n]&&e[n].vnode==t||t.vdom!=S)return e;if((t||!e)&&(r=r||"svg"==t.type,o=!("host"==t.type||(1==t.raw?e==t.type:2==t.raw?e instanceof t.type:e?e.localName==t.type:e)),o)){if(t.ref)return t.ref.cloneNode(!0);null!=t.type&&(t.ref=e=1==t.raw?t.type:2==t.raw?new t.type:r?b.createElementNS("http://www.w3.org/2000/svg",t.type):b.createElement(t.type,t.is?{is:t.is}:void 0))}let s=e[n]?e[n].vnode:g,i=s.props||g,l=s.children||v,u=o||!e[n]?{}:e[n].handlers,c=e[n]&&e[n].fragment;if(t.shadow&&(e.shadowRoot||e.attachShadow({mode:"open"})),t.props!=i&&function(t,e,n,r,o){for(let s in e)s in n||A(t,s,e[s],null,o,r);for(let s in n)A(t,s,e[s],n[s],o,r)}(e,i,t.props,u,r),t.children!==l){let o=t.shadow?e.shadowRoot:e;c=function(t,e,n,r,o){t=null==t?null:Array.isArray(t)?t:[t];let s,i=e||{s:n.appendChild(new w("")),e:n.appendChild(new w(""))},{s:l,e:u,k:c}=i,a=c&&new Set,h=l;function p(t){let{length:e}=t;for(let i=0;i<e;i++){let e=t[i],l=typeof e;if(null==e||"boolean"==l||"function"==l)continue;if(Array.isArray(e)){p(e);continue}if("object"==l&&e.vdom!=S)continue;let d=e.vdom&&e.key,f=c&&null!=d&&c.get(d);h!=u&&h===f?a.delete(h):h=h==u?u:h.nextSibling;let m=c?f:h,y=m;if(e.vdom)y=x(e,m,r,o);else{let t=e+"";3!=y.nodeType?y=new Text(t):y.data!=t&&(y.data=t)}y!=h&&(c&&a.delete(y),!m||c?(n.insertBefore(y,h),c&&h!=u&&a.add(h)):m==u?n.insertBefore(y,u):(n.replaceChild(y,m),h=y)),null!=d&&(s=s||new Map,s.set(d,y))}}if(t&&p(t),h=h==u?u:h.nextSibling,e&&h!=u)for(;h!=u;){let t=h;h=h.nextSibling,t.remove()}return a&&a.forEach((t=>t.remove())),i.k=s,i}(t.children,c,o,n,(!r||"foreignObject"!=t.type)&&r)}return e[n]={vnode:t,handlers:u,fragment:c},e}function A(t,r,o,s,i,l){if(o=null==o?null:o,s=null==s?null:s,(r="class"!=r||i?r:"className")in t&&m[r]&&(o=t[r]),s!==o&&"shadowDom"!=r&&"children"!=r&&"key"!=r&&"_"!=r[0])if("o"==r[0]&&"n"==r[1]&&(e(s)||e(o)))!function(t,e,n,r){r.handleEvent||(r.handleEvent=e=>r[e.type].call(t,e));n?(r[e]||t.addEventListener(e,r),r[e]=n):r[e]&&(t.removeEventListener(e,r),delete r[e])}(t,r.slice(2),s,l);else if("ref"==r)s&&(s.current=t);else if("style"==r){let e=t.style;s=s||"";let r=n(o=o||""),i=n(s);if(r)for(let t in o){if(!i)break;t in s||k(e,t,null)}if(i)for(let t in s){let n=s[t];r&&o[t]===n||k(e,t,n)}else e.cssText=s}else!i&&!y[r]&&r in t||e(s)||e(o)?t[r]=null==s?"":s:null==s?t.removeAttribute(r):t.setAttribute(r,n(s)?JSON.stringify(s):s)}function k(t,e,n){let r="setProperty";null==n&&(r="removeProperty",n=null),~e.indexOf("-")?t[r](e,n):t[e]=n}const N=!!document.adoptedStyleSheets;function _(t,e=HTMLElement){let n={},r={},{props:i,styles:l}=t;return class extends e{constructor(){super(),this._setup(),this._render=()=>t({...this._props});for(let t in r)this[t]=r[t]}static get styles(){return l}static get _styles(){return[].concat(super._styles||[],super.styles||[],this.styles||[])}async _setup(){if(this._props)return;this._props={},this.mounted=new Promise((t=>this.mount=t)),this.unmounted=new Promise((t=>this.unmount=t)),this.symbolId=Symbol();let t,e=function(t,e){let n={},r={use:function(t,e,r){let o=h++;return n[o]=[t(n[o]?n[o][0]:void 0),e,r],n[o][0]},host:e,update:t};function o(t,e){for(let r in n){let o=n[r];o[t]&&(o[0]=o[t](o[0],e))}}return{load:function(t){let e;h=0,a=r;try{e=t()}finally{a=null}return e},cleanEffects:function(t){return o(1,t),()=>{o(2,t),t&&(n={})}}}}((()=>this.update()),this),n=!0;this.update=r=>{if(t||(t=!0,this.updated=this.mounted.then((()=>{try{return x(e.load(this._render),this,this.symbolId),t=!1,n&&(n=!1,function(t){let{_styles:e}=t.constructor,{shadowRoot:n}=t;n&&e.length&&(e=[...new Set(e)],N?n.adoptedStyleSheets=[...e]:e.map((t=>n.appendChild(t.cloneNode(!0)))))}(this)),e.cleanEffects()}finally{t=!1}})).then((t=>{t&&t()}))),r)for(let t in r)this._props[t]=r[t];return this.updated},this.update(),await this.unmounted,e.cleanEffects(!0)()}connectedCallback(){this.mount()}async disconnectedCallback(){await this.mounted,!this.isConnected&&this.unmount()}attributeChangedCallback(t,e,r){if(n[t]){if(t===this._ignoreAttr||e===r)return;let{prop:s,type:i}=n[t];this[s]=((t,e)=>t==Boolean?!!o[e]:t==Number?Number(e):t==Array||t==Object?JSON.parse(e):e)(i,r)}else super.attributeChangedCallback(t,e,r)}static get observedAttributes(){let t=super.observedAttributes||[];for(let e in i)s(this.prototype,e,i[e],n,r);return Object.keys(n).concat(t)}}}let $=(O=2,(n,r)=>{let o=([t,r],o)=>{if(!o)return[t||n(r),r];e(t)&&t()};d((([n,o]=[])=>(!o&&o||(o&&t(o,r)?n=n||!0:(e(n)&&n(),n=null)),[n,r])),1==O&&o,2==O&&o)});var O;function L(t){let e=p();if(t in e.current){if(!e[t]){let n=[null,n=>e.current[t]=n];e[t]=n}return e[t][0]=e.current[t],e[t]}}function j(t){let n=f();return d(((r=[])=>(r[1]||(r[0]=e(t)?t():t,r[1]=t=>{(t=e(t)?t(r[0]):t)!=r[0]&&(r[0]=t,n())}),r)))}function P(t){return d(((e={current:t})=>e))}function I(e,n){let[r]=d((([r,o,s=0]=[])=>((!o||o&&!t(o,n))&&(r=e(n)),[r,n,s])));return r}const T={};function M(t,...e){let n=t.reduce(((t,n,r)=>t+n+(e[r]||"")),"");return T[n]=T[n]||function(t){if(N){let e=new CSSStyleSheet;return e.replaceSync(t),e}{let e=b.createElement("style");return e.textContent=t,e}}(n)}var R=function(t,e,n,r){var o;e[0]=0;for(var s=1;s<e.length;s++){var i=e[s++],l=e[s]?(e[0]|=i?1:2,n[e[s++]]):e[++s];3===i?r[0]=l:4===i?r[1]=Object.assign(r[1]||{},l):5===i?(r[1]=r[1]||{})[e[++s]]=l:6===i?r[1][e[++s]]+=l+"":i?(o=t.apply(l,R(t,l,n,["",null])),r.push(o),l[0]?e[0]|=2:(e[s-2]=0,e[s]=o)):r.push(l)}return r},D=new Map;const B=function(t){var e=D.get(this);return e||(e=new Map,D.set(this,e)),(e=R(this,e.get(t)||(e.set(t,e=function(t){for(var e,n,r=1,o="",s="",i=[0],l=function(t){1===r&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,t,o):3===r&&(t||o)?(i.push(3,t,o),r=2):2===r&&"..."===o&&t?i.push(4,t,0):2===r&&o&&!t?i.push(5,0,!0,o):r>=5&&((o||!t&&5===r)&&(i.push(r,0,o,n),r=6),t&&(i.push(r,t,0,n),r=6)),o=""},u=0;u<t.length;u++){u&&(1===r&&l(),l(u));for(var c=0;c<t[u].length;c++)e=t[u][c],1===r?"<"===e?(l(),i=[i],r=3):o+=e:4===r?"--"===o&&">"===e?(r=1,o=""):o=e+o[0]:s?e===s?s="":o+=e:'"'===e||"'"===e?s=e:">"===e?(l(),r=1):r&&("="===e?(r=5,n=o,o=""):"/"===e&&(r<5||">"===t[u][c+1])?(l(),3===r&&(i=i[0]),r=i,(i=i[0]).push(2,0,r),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(l(),r=2):o+=e),3===r&&"!--"===o&&(r=4,i=i[0])}return l(),i}(t)),e),arguments,[])).length>1?e:e[0]}.bind(C);function q(t){history.pushState({},"history",t),window.dispatchEvent(new PopStateEvent("popstate"))}function H(t){return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)}const J=()=>location.pathname+location.hash+location.search,F="(?:(?:/){0,1}#(?:/){0,1})";const z=t=>t.replace(/([.+^()\-:])/g,"\\$1"),U=t=>t.split(/(\?.*)/);function W(t){const[e]=U(t),[n,r]=function(t){const e=[],n=t.replace(/#(\/){0,1}/,"/#").split(/\//g).map((t=>{if(!t)return"";const[,n="",r,o,s]=t.match(/(#){0,1}([\{\[]){0,1}(\.\.\.){0,1}(\w*)([\}\]]){0,1}/);if("{"==r||"["==r){e.push(s);const t="["==r?"*":"+",i=(n?F:"(?:/)")+("["==r?"{0,1}":"{1}");return o?`${i}(.${t})`:`${i}([^/#]${t})`}return(n?F:"/")+z(n?t.slice(1):t)})).join(""),r=!n.indexOf(F);return[RegExp((r?"":"^")+(n||"(?:/){0,1}")+(!r&&"/"!=t&&t.endsWith("/")?"/":"")+"$"),e]}(e);return t=>{const[e]=U(t),o=e.match(n);if(o){const[,...t]=o,e={};return t.reduce(((t,e,n)=>(t[r[n]]=e,t)),e)}}}const Z={},G=t=>Z[t]=Z[t]||W(t),K=(t,e)=>{const[n,r]=U(e),o=r?function(t,e={}){return t.replace(/(?:\?|&){1}([^=&]+)(?:=([^\?&]+)){0,1}/g,((t,n,r)=>(e[n]=r,""))),e}(r):{};for(const s in t){const r=G(s)(n);if(r)return[t[s](r,o),e,r,o]}},Q={};function V(){const[t,e]=j(J);return $((()=>H((()=>e(J)))),[]),e=>G(e)(t)}const X=C("host");function Y(t){return t&&"object"==typeof t?t="host"==t.type?t:C("host",null,t):X}function tt(t){const e=p(),n=function(t,e={}){let n=p();return n[t]||(n[t]=(r=e.detail)=>i(n.current,{type:t,...e,detail:r})),n[t]}(t,{bubbles:!0,composed:!0}),[r,o]=j();return j((()=>{const r=new Set;e.on=t=>r.add(t)&&(()=>r.delete(t)),e.sync=t=>[...r].forEach((e=>e(t)));const{current:s}=e;n((t=>{e.removeOn=t.on(o)}));const i=t=>{t.stopPropagation(),t.detail(e)};s.addEventListener(t,i),e.remove=()=>{s.removeEventListener(t,i),e.removeOn&&e.removeOn()}})),$((()=>e.remove),[]),[r,e.sync]}function et(){return C("host",{shadowDom:!0})}et.props={slot:{type:String,reflect:!0,value:"router-case"},path:{type:String,reflect:!0,path:"/"},for:{type:String,reflect:!0},load:null};var nt=_(et),rt=new Map;function ot({transition:t,path:e}){const[n,r]=j(),[o,s]=j({}),[i,l]=tt("InheritPath"),u=(i||"")+(e||""),c=function(t){const[e,n]=j(Q);return $((()=>{if(!t)return;n(Q);const e=()=>{n((e=>{const n=J();return e.path!=n?{path:n,result:K(t,n)}:e}))};return e(),H(e)}),[t]),e.result}(I((()=>{const t={};for(const e in n)t[u+e]=n[e];return t}),[u,n]));return $((()=>{l(u)}),[u]),$((()=>{if(!c)return;let[e,n,r]=c;const{load:o,for:i}=e;if(i&&!rt.has(i)&&rt.set(i,Promise.resolve({forId:i})),o&&!rt.has(o)){let t;t="string"==typeof o?import(new URL(o,location).href):Promise.resolve(o(r)),rt.set(o,t.then((t=>"object"==typeof t?t:{default:t})))}let l=rt.get(o||i);return setTimeout((()=>l&&s({loading:!0})),40),l.then((async({default:e,forId:o,...i})=>{n==J()?(t&&await t(r),l=null,n==J()&&s({view:"function"==typeof e?e(r):e,forId:o,data:i})):l=null})),()=>l=null}),[c]),function(t,e){const n=p();n.id=n.id||Symbol(),I((()=>x(Y(t()),n.current,n.id)),e),$((()=>()=>x(Y(),n.current,n.id)),[])}((()=>C("section",{slot:"view",key:J()},o.view)),[o.view]),C("host",{shadowDom:!0,data:o.data},C("slot",{name:"router-case",onslotchange:t=>r([...t.target.assignedElements()].reduce(((t,e)=>({...t,[e.path]:()=>e})),{}))}),C("slot",{name:o.forId||"view"}),o.loading&&C("slot",{name:"loading"}))}ot.props={path:String,transition:Function,data:{type:Object,event:{type:"Data"}}};var st=_(ot);function it({path:t}){const[,e]=tt("InheritPath");return $((()=>e(t)),[t]),C("host",{onclick:e=>{let{target:n}=e;do{if(n.hasAttribute&&n.hasAttribute("href")&&!n.hasAttribute("ignore")){e.preventDefault();const r=n.getAttribute("href");!/^(http(s){0,1}:){0,1}\/\//.test(r)&&q((t||"")+r);break}}while(n=n.parentNode)}})}it.props={path:String};var lt=_(it);function ut({href:t}){const[e]=tt("InheritPath"),n=(e||"")+(t||"");return C("host",{onclick:t=>{t.stopPropagation(),t.preventDefault(),n&&q(n)}})}ut.props={href:String};var ct=_(ut,HTMLAnchorElement);function at(t){const[e,n]=j([]);return $((()=>{const{current:e}=t,r="slotchange";n(e.assignedElements());const o=()=>n(e.assignedElements());return e.addEventListener(r,o),()=>e.removeEventListener(r,o)}),[]),e}const ht=/,\s*([^,]+)\s+(?:(\d+)(?:x(\d+)){0,1}(px|em|rem))/,pt={},dt={};function ft(t){const[e,n]=function(t){if(pt[t])return pt[t];const e=[];let n;for(;n=t.match(ht);){const[r,o,s,i,l]=n;t=t.replace(r,""),e.push({value:o,width:Number(s),height:Number(i||""),type:l})}return[t.replace(/\s*,(.*)/,"").trim(),e.sort(((t,e)=>t.height>e.height?-1:1)).sort(((t,e)=>t.width>e.width?-1:t.width==e.height?0:1))]}(t),[r,o]=j(s);function s(){const t=n.find((t=>mt(t).matches));return t?t.value:e}return $((()=>{const t=()=>o(s);return t(),n.forEach((e=>mt(e).addListener(t))),()=>n.forEach((e=>mt(e).removeListener(t)))}),[t]),r}const mt=({width:t,height:e,type:n})=>{const r=(t?`(min-width: ${t}${n})`:"")+(e?`and (min-height: ${e}${n})`:"");return dt[r]=dt[r]||window.matchMedia(r)};const yt=Symbol();function gt(){const{current:t}=p(),e=()=>function(t){const{symbolId:e}=t,n=[];return t.childNodes.forEach((t=>{t[e]||t[e]&&!t[yt]||(t[yt]=!0,n.push(t))})),n}(t),[n,r]=j(e);return[n,()=>r(e)]}function vt(t,e,n){$((()=>{const r=new MutationObserver(e);return r.observe(t.current,n),()=>r.disconnect()}),[t])}let bt,wt,St;const Et=[[/!\[([^\]]+)\]\(([^)]+)\)/g,(t,e)=>bt(St.image,{src:e,title:t})],[/\[([^\]]+)\]\(([^)]+)\)/g,(t,e)=>bt("a",{href:e},xt(t))],[/\*\*([^*]+)\*\*/g,t=>bt(St.bold,null,xt(t))],[/_([^_]+)_/g,t=>bt(St.italic,null,xt(t))],[/(?:~([^~]+)~|`([^`]+)`)/g,(t,e)=>bt(St.inlineCode,null,xt(t||e))]],Ct=t=>`<${t}>`;function xt(t){return Et.reduce(((t,[e,n])=>t.replace(e,((t,...e)=>Ct(wt.push(n(...e))-1)))),t).split(/(<\d+>)/).map((t=>{const e=t.match(/^<(\d+)>/);if(e){const[,t]=e;return wt[t]}return t})).filter((t=>t))}const At={link:"a",title:"h*",text:"p",inlineCode:"code",code:"pre",nestedCode:"code",quote:"blockquote",table:"table",tableRow:"tr",tableCol:"td",bold:"strong",italic:"i",image:"img",list:["ol","ul"],listItem:"li",tab:"    "},kt=(t,e)=>(n,...r)=>function(t,e,n,r){bt=e,wt=n,St=r;const o=function(t){const e=[],n=t.split(/\n/).map((t=>{const n=t.match(/^(\s*)(.*)/),[,r,o]=n,s=r.split("").reduce(((t,e)=>t+e.charCodeAt(0)),0);return e.includes(s)||e.push(s),[s,o]}));return e.sort(((t,e)=>t>e?1:-1)),n.map((([t,n])=>[e.indexOf(t),n]))}(t),{length:s}=o,i=[];let l,u;for(let c=0;c<s;c++){const[t,n]=o[c],r=n.match(/^(~~~|```|---)(.*)/);if(r){const[,t,e]=r;let n=[];for(;++c&&o[c]&&o[c][1]!==t;)n.push(St.tab.repeat(o[c][0]>-1?o[c][0]:0)+o[c][1]);i.push(bt(St.code,{type:e,"data-type":e,meta:"---"===t},bt(St.nestedCode,null,n.join("\n"))));continue}const s=n.match(/^(\d+\.|-|\+)\s*(.+)/);if(s){const[,t,e]=s;l||(l=[St.list[/\d+\./.test(t)?0:1],[]]),l[1].push(bt(St.listItem,null,xt(e)));continue}const a=n.match(/^\|(.+)/);if(a){const[,t]=a;u||(u=[]);const e=t.split(/\|/);/^-+$/.test(e[0].trim())||u.push(bt(St.tableRow,null,e.slice(0,e.length-1).map((t=>bt(St.tableCol,null,xt(t.trim()))))));continue}l&&(i.push(bt(l[0],null,l[1])),l=null),u&&(i.push(bt(St.table,null,u)),u=null);const h=n.match(/^([\#]+)\s*(.+)/);if(h){const[,t,n]=h;i.push(e(St.title.replace("*",t.length+""),null,xt(n)));continue}const p=n.match(/^>\s*(.+)/);if(p){const[,t]=p;i.push(bt(St.quote,null,xt(t)))}else n&&i.push(bt(St.text,null,xt(n)))}return i}(n.reduce(((t,e,n)=>t+(e+(r[n]?Ct(n):""))),""),t,r,{...At,...e});const Nt=t=>()=>{const{current:e}=t;!function(t){const e=document.createElement("textarea");e.style="width:0;height:0;opcity:0",e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()}("value"in e?e.value:e.textContent)};export{ct as R,at as a,M as b,_ as c,f as d,gt as e,vt as f,j as g,C as h,$ as i,L as j,V as k,ft as l,lt as m,st as n,nt as o,p,B as q,Nt as r,kt as s,P as u};
